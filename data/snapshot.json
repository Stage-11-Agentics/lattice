{
  "data": [
    {
      "assigned_to": "human:diterra-code",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "1",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgf74YM",
        "github_url": "https://github.com/BreadchainCoop/app-stacks/issues/1"
      },
      "description": "GitHub Issue: [BreadchainCoop/app-stacks#1](https://github.com/BreadchainCoop/app-stacks/issues/1)\n\n## Description / Context\n\nWe want to abstract the BREAD token from the user experience and present only USD balances on the frontend.\n\nThe goal is to make the app feel familiar and intuitive to users who think in fiat terms while leveraging BREAD internally as the accounting and settlement unit.\n\nUsers should be able to deposit any stablecoin or token from any chain, have it automatically converted and minted into BREAD on the backend, and see only USD values in their dashboard and transaction history.\n\nThis approach mirrors how centralized exchanges or apps like Hyperliquid handle cross-chain deposits and stablecoin abstraction \u2014 simplifying the UX without sacrificing the on-chain transparency and composability of BREAD.\n\n## Objectives\n\n- Allow deposits from multiple chains and tokens.\n- Automatically convert incoming assets to a USD value and mint equivalent BREAD tokens.\n- Store and track user balances internally in BREAD.\n- Display only USD balances to the user on the frontend.\n- Handle withdrawals by burning BREAD and bridging/swapping back to user\u2019s chosen token/chain.\n\n## Proposed Flow\n\n<img width=\"1920\" height=\"1016\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/2e042c31-bc97-4035-9b6d-5cec7878d68c\" />\n\nTechnical Considerations\n\n## UX Inspiration:\n\n- Hyperliquid: Abstracts all chain complexity and denominates balances in USD, even for deposits from multiple chains.\n- Polymarket: Shows only USD in the interface, while collateral is managed in USDC behind the scenes.\n- Bridging & Conversion: Use cross-chain bridges (Li.Fi) for seamless deposits.\n- Oracles: Secure and accurate USD pricing for all supported tokens (via DeFi llama).\n- Accounting Layer: Manage per-user BREAD balances with full traceability of mint/burn events.\n- Frontend UX: Always display USD; optionally include \u201cPowered by BREAD\u201d for transparency.\n- Withdrawals: Burn BREAD and send equivalent USD value back in chosen stablecoin and chain (could limit to Gnosis or few chains)",
      "done_at": null,
      "evidence_ref_count": 0,
      "has_active_session": true,
      "id": "PVTI_lADOBejdOM4BEnYuzgf74YM",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 1,
      "reopened_count": 0,
      "short_id": "STKS-1",
      "status": "in_progress",
      "tags": [
        "documentation",
        "help-wanted"
      ],
      "title": "Abstract BREAD Token \u2014 Show Only USD Balances on Frontend (Inspired by Hyperliquid & Polymarket)",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:exo404",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "8",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgfkVss",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/8"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#8](https://github.com/BreadchainCoop/saving-circles/issues/8)\n\n- [ ] Add a view function that iterates through all circles and returns an encoded array of a tuple of user/circleID  for which it is possible to claim for in the automation to use \n- [ ] Add a function that claims for multiple users in multiple circles \n- [ ] Add a view function that returns an array of tuples of user/circleID for which the user has given a sufficient allowance for the circleManager contract, has not yet deposited the amount for the interval, and has enough balance of the circle token to deposit for. \n- [ ] Add a function that attempts to transferFrom a user which has sufficient allowance, balance , and has not deposited yet for a circle in some interval \n- [ ] add user to boolean mapping for automation \n- [ ] add checks for `depositFor` and `withdrawFor` to see if user allows automation \n- [ ] in view functions add check that user has allowed automation before invoking",
      "done_at": null,
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgfkVss",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 1,
      "reopened_count": 0,
      "short_id": "STKS-8",
      "status": "backlog",
      "tags": [
        "enhancement",
        "nice-to-have"
      ],
      "title": "Add Gelato Automation (v2 scope)",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:daopunk",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "13",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgfkVsU",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/13"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#13](https://github.com/BreadchainCoop/saving-circles/issues/13)",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgfkVsU",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 1,
      "reopened_count": 0,
      "short_id": "STKS-13",
      "status": "done",
      "tags": [
        "nice-to-have"
      ],
      "title": "using multiple if-revert statements is cheaper than using one long if-revert statement that uses && / ||.",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:RonTuretzky",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "19",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgfkVrw",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/19"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#19](https://github.com/BreadchainCoop/saving-circles/issues/19)\n\nEither add tokens to the initializer and update deploy utils or add a function that accepts an array of addresses and a config json with a list of tokens to be used in the deployment flow",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgfkVrw",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 1,
      "reopened_count": 0,
      "short_id": "STKS-19",
      "status": "done",
      "tags": null,
      "title": "Token allowlist deployment handling",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:RonTuretzky",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "20",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgfkVrM",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/20"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#20](https://github.com/BreadchainCoop/saving-circles/issues/20)\n\nAs enforced by the template, however due to technical debt from [here](https://github.com/BreadchainCoop/solidity-foundry-boilerplate/issues/2) , we should not begin the scope outlined here until merges from upstream.\n\n \n\n- [ ] The merge for the issues described above should be cherry picked into this repo  \n- [ ] Fuzz testing \n- [ ] Invariant testing \n- [ ] Any new configurations or technical debt introduced from upstream",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgfkVrM",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 0,
      "reopened_count": 0,
      "short_id": "STKS-20",
      "status": "done",
      "tags": [
        "help-wanted",
        "nice-to-have"
      ],
      "title": "Fuzz & Invariant Testing",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:exo404",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "24",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzglba54",
        "github_url": "https://github.com/BreadchainCoop/app-stacks/issues/24"
      },
      "description": "GitHub Issue: [BreadchainCoop/app-stacks#24](https://github.com/BreadchainCoop/app-stacks/issues/24)\n\n## 1. Background\n\n### Problem Statement \nIn the Stacks project, several user-facing metadata fields should not be stored on-chain (or are not cost-effective to store on-chain), such as usernames, stack display names, avatar URLs, bios, and UI preferences.\nStoring these fields on-chain introduces major trade-offs:\n\n1. **High cost and permanent storage overhead** (gas + immutable state bloat).\n2. **Low schema agility** (difficult to evolve and migrate).\n3. **Limited privacy** (public and immutable by default).\n4. **Poor UX** for frequent edits (username/avatar/profile updates).\n\nTherefore, we need a reliable off-chain metadata layer integrated with wallet-based identity so users can securely manage mutable profile data while preserving on-chain trust assumptions for critical ownership/permission logic.\n\n---\n\n## 2. Motivation\n\n### Goals\n\n- Store mutable user metadata in Supabase with strict ownership controls (RLS).\n    \n- Bind each profile to a **verified wallet identity** (address + signature-based authentication).\n    \n- Support fast CRUD operations for profile and stack metadata.\n    \n- Keep data model flexible over time through versioned SQL migrations.\n    \n- Provide a clean developer experience for frontend/backend integration.\n\n### Success Stories\n\n1. A user connects a wallet, signs a challenge, and creates a username in seconds.\n    \n2. A user updates avatar/bio instantly with no gas cost.\n    \n3. The dApp can query stack metadata and render human-readable names in one read path.\n    \n4. Username collisions and abusive values are prevented through constraints and validation.\n    \n5. New profile fields can be introduced without changing smart contracts.\n\n---\n\n## 3. Scope and Approaches\n\n### 3.1 In-Scope\n\n- Supabase schema for:\n    \n    - `users` (wallet identity mapping),\n        \n    - `profiles` (username and user metadata),\n        \n    - `stacks_metadata` (off-chain stack presentation fields),\n        \n    - optional support tables (`user_wallets`, username history, audit).\n        \n- Wallet-based authentication flow (nonce + signature verification).\n    \n- RLS policies for strict owner-only writes.\n    \n- Validation and uniqueness constraints (username/slug).\n    \n- Error handling for auth failures and conflicts.\n    \n- Observability baseline (auth success/fail, conflicts, latency).\n### 3.2 Non-Goals\n\n- Replacing on-chain source of truth for critical permissions.\n    \n- Full trustless reputation or governance logic off-chain.\n    \n- Advanced media pipeline/CDN orchestration.\n    \n- Data warehouse / BI stack.\n    \n- Full legal/compliance framework (KYC/AML).\n### 3.3 Value Proposition\n\n- **Better UX:** instant profile updates, no gas.\n    \n- **Security:** wallet ownership enforced through signature verification + RLS.\n    \n- **Flexibility:** schema evolution via migrations.\n    \n- **Reduced contract complexity:** non-critical metadata stays off-chain.\n    \n- **Scalable integration:** can be joined with indexed on-chain events.\n\n### 3.4 Alternative Approaches\n\n1. **All metadata on-chain**\n    \n    - Pros: immutable, fully trustless.\n        \n    - Cons: expensive, inflexible, poor privacy.\n        \n2. **IPFS/Arweave metadata pointers**\n    \n    - Pros: decentralized storage.\n        \n    - Cons: difficult mutable updates, harder querying/moderation.\n        \n3. **Custom backend (self-hosted Postgres + API)**\n    \n    - Pros: full control.\n        \n    - Cons: higher DevOps/security/maintenance overhead.\n        \n4. **NoSQL backend (e.g., Firebase)**\n    \n    - Pros: fast setup.\n        \n    - Cons: weaker relational modeling and SQL-native policy ergonomics.\n\n### 3.5 Relevant Metrics\n\n- Wallet auth success rate.\n    \n- Signature verification failure rate.\n    \n- Nonce replay attempt count.\n    \n- Username conflict rate (`409`).\n    \n- Profile write latency p95.\n    \n- Read query latency p95 (profiles + stacks metadata).\n    \n- RLS denial count (`403`).\n    \n- API 4xx/5xx distribution.\n    \n- Metadata completeness ratio.\n\n\n---\n\n## 4. Step-by-Step Flow\n\n### 4.1 Main (\u201cHappy\u201d) Path\n\n#### A. Wallet Authentication and Identity Linking\n\n1. User connects wallet in frontend.\n    \n2. Frontend requests nonce from backend/Edge Function.\n    \n3. User signs challenge message (`address + nonce + domain + timestamp`).\n    \n4. Backend verifies signature.\n    \n5. Backend performs `upsert` in `users` by `wallet_address`.\n    \n6. Backend ensures `profiles` row exists for the resolved `user_id`.\n    \n7. Backend issues application session/JWT (with `sub = user_id` and/or wallet claim).\n\n#### B. Username Linking\n\n8. Authenticated user submits `username`.\n    \n9. Backend validates format, reserved words, and length.\n    \n10. DB updates `profiles.username` for the current authenticated user.\n    \n11. Unique constraint ensures global uniqueness (case-insensitive).\n    \n12. Frontend reads updated profile and renders username.\n\n#### C. Stack Metadata Management\n\n13. Owner creates/updates `stacks_metadata` linked to `stack_id`.\n    \n14. RLS enforces owner-only writes.\n    \n15. Public/private projection is served via controlled views/API.\n\n### 4.2 Alternate / Error Paths\n\n- **Invalid signature / expired nonce** \u2192 `401 Unauthorized`.\n    \n- **Nonce replay** \u2192 `401 Unauthorized` + nonce invalidation.\n    \n- **Username already taken** \u2192 `409 Conflict`.\n    \n- **Invalid username format** \u2192 `422 Unprocessable Entity`.\n    \n- **RLS deny (cross-user write attempt)** \u2192 `403 Forbidden`.\n    \n- **Duplicate stack slug** \u2192 `409 Conflict`.\n    \n- **Wallet rotation/linking issue** \u2192 dedicated wallet-link flow (proof from old/new wallet or recovery policy).\n    \n- **Temporary DB/API outage** \u2192 retry/backoff and graceful UI fallback.\n    \n\n---\n\n## 5. UML Diagrams (Mermaid)\n\n### 5.1 ER Diagram\n\n```mermaid\nerDiagram\n    USERS ||--|| PROFILES : has\n    USERS ||--o{ STACKS_METADATA : owns\n    USERS ||--o{ USER_WALLETS : links\n\n    USERS {\n      uuid id PK\n      timestamptz created_at\n      text wallet_address UK\n    }\n\n    PROFILES {\n      uuid user_id PK, FK\n      timestamptz created_at\n      citext username UK\n    }\n\n    STACKS_METADATA {\n      uuid id PK\n      timestamptz created_at\n      uuid owner_id FK\n      text stackname\n      text description\n      text visibility\n    }\n\n    USER_WALLETS {\n      uuid id PK\n      uuid user_id FK\n      text wallet_address UK\n      timestamptz verified_at\n    }\n```\n### 5.2 Sequence Diagram: Wallet Login + Username Save\n\n```mermaid\nsequenceDiagram\n    participant U as User Wallet\n    participant FE as Frontend dApp\n    participant EF as Edge Function (Auth)\n    participant DB as Supabase DB\n\n    FE->>EF: POST /auth/wallet/nonce (wallet_address)\n    EF-->>FE: nonce\n    FE->>U: signMessage(nonce payload)\n    U-->>FE: signature\n    FE->>EF: POST /auth/wallet/verify (address, signature, nonce)\n    EF->>DB: verify nonce, verify signature\n    EF->>DB: upsert users(wallet_address)\n    EF->>DB: ensure profiles(user_id) exists\n    EF-->>FE: app JWT (sub=user_id)\n\n    FE->>EF: POST /me/username (username) with JWT\n    EF->>DB: validate + update profiles.username where user_id = auth user\n    DB-->>EF: success or unique violation\n    EF-->>FE: 200 OK / 409 Conflict\n```\n\n### 5.3 Activity Diagram: Username Update\n\n```mermaid\nflowchart TD\n    A[User submits username] --> B{JWT valid?}\n    B -- No --> X[401 Unauthorized]\n    B -- Yes --> C{Format valid?}\n    C -- No --> Y[422 Invalid username]\n    C -- Yes --> D{Reserved word?}\n    D -- Yes --> Z[422 Not allowed]\n    D -- No --> E{Unique constraint passes?}\n    E -- No --> W[409 Username taken]\n    E -- Yes --> F[Update profiles.username]\n    F --> G[200 Success]\n```\n\n---\n\n## 6. Edge cases and concessions\n\n1. **Case-insensitive uniqueness**  \n    Use `citext` so `Alice` and `alice` are treated as duplicates.\n    \n2. **Allowed charset**  \n    Enforce regex (e.g. `^[a-zA-Z0-9_.-]{3,24}$`) for usernames/slugs.\n    \n3. **Replay attack prevention**  \n    Nonce must be one-time use with expiry.\n    \n4. **Client trust boundary**  \n    Never trust `wallet_address` or `user_id` without signature/JWT verification.\n    \n5. **RLS bypass risk**  \n    Service-role operations must be restricted to auth functions only.\n    \n6. **Race conditions on username**  \n    Unique index is final arbiter; return `409` on conflict.\n    \n7. **Wallet change / multiple wallets**  \n    Support optional `user_wallets` table with verified linking flow.\n    \n8. **Moderation needs**  \n    Reserved names list and optional manual moderation queue.\n    \n9. **Privacy and minimization**  \n    Keep PII minimal; avoid storing unnecessary personal data.\n    \n10. **Rate limits**  \n    Apply rate limiting on nonce and verify endpoints to mitigate abuse.\n\n\n---\n\n## 7. Open Questions\n\n1. Is username global or namespace-scoped (per community/project)?\n    \n2. Which fields are publicly queryable vs authenticated-only?\n    \n3. Do we need profanity/abuse automation for usernames?\n    \n4. Are we adopting custom JWT auth or Supabase-auth shadow user strategy?\n\n\n---\n\n\n\n---\n\n## Appendix A \u2014 Wallet-to-Username Linking Strategy\n\n### Core principle\n\n`wallet_address -> users.id -> profiles.username`\n\n### Required endpoints\n\n1. `POST /auth/wallet/nonce`\n    \n2. `POST /auth/wallet/verify`\n    \n3. `POST /me/username`\n    \n\n### Security requirements\n\n- Nonce must expire and be invalidated after use.\n    \n- Signature must include domain + nonce + timestamp.\n    \n- JWT/session must bind to `user_id`.\n    \n- Profile writes must be owner-only via RLS.\n    \n- Username uniqueness must be enforced by DB constraint (not frontend only).\n    \n\n---\n\n## Appendix B \u2014 RLS Baseline Example\n\n```sql\nalter table public.profiles enable row level security;\n\ncreate policy \"select_own_profile\"\non public.profiles\nfor select\nusing (user_id = auth.uid());\n\ncreate policy \"insert_own_profile\"\non public.profiles\nfor insert\nwith check (user_id = auth.uid());\n\ncreate policy \"update_own_profile\"\non public.profiles\nfor update\nusing (user_id = auth.uid())\nwith check (user_id = auth.uid());\n```\n\n---\n\n## Appendix C: Privy-based Authentication and Username Linking\n\nThe application uses **Privy** as the wallet authentication provider.  Supabase is used as the data layer (Postgres, RLS, Storage), while identity proof is delegated to Privy-issued authentication tokens.\n\n#### Identity mapping model\n\n- Primary identity key: `privy_user_id` (stable unique ID from Privy).\n    \n- Secondary identity attributes: `wallet_address`, `linked_wallets` (optional).\n    \n- Profile key: `profiles.user_id` referencing internal `users.id`.\n    \n- Username ownership: exactly one username per `users.id` (nullable until set).\n\nCanonical mapping:  \n`Privy user -> users(privy_user_id) -> profiles(username, metadata)`\n\n#### Login and linking flow\n\n1. Frontend authenticates user with Privy.\n    \n2. Frontend retrieves Privy auth token.\n    \n3. Backend verifies Privy token signature and claims.\n    \n4. Backend upserts `users` by `privy_user_id` (and updates wallet snapshot if needed).\n    \n5. Backend ensures `profiles` row exists.\n    \n6. Backend returns app session / uses trusted server path for DB writes.\n    \n7. User submits username.\n    \n8. Backend validates username policy and updates `profiles.username` for the authenticated user.\n    \n9. DB unique constraint enforces global uniqueness (case-insensitive).\n    \n\n#### Security requirements\n\n- Never trust wallet address from raw client payload without validated Privy token context.\n    \n- Enforce one-time nonce only if using custom wallet-sign challenge in addition to Privy.\n    \n- Keep owner-only mutations behind RLS or server-side ownership checks.\n    \n- Enforce username uniqueness at DB level (`citext unique`), not only at API/UI level.\n    \n- Apply rate limiting to username update endpoint and auth-sensitive routes.\n    \n\n---\n\n## DB changes to reflect Privy\n\n```sql\ncreate extension if not exists pgcrypto;\ncreate extension if not exists citext;\n\ncreate table if not exists public.users (\n  id uuid primary key default gen_random_uuid(),\n  privy_user_id text not null unique,\n  wallet_address text, -- optional snapshot of primary wallet\n  created_at timestamptz not null default now(),\n  updated_at timestamptz not null default now()\n);\n\ncreate table if not exists public.profiles (\n  user_id uuid primary key references public.users(id) on delete cascade,\n  username citext unique,\n  display_name text,\n  bio text,\n  avatar_url text,\n  preferences jsonb not null default '{}'::jsonb,\n  updated_at timestamptz not null default now()\n);\n```\n\n---\n\n### API endpoints (Privy version)\n\n- `POST /auth/privy/verify`  \n    Input: Privy token  \n    Action: verify token, upsert `users`, ensure `profiles`, return app session context.\n    \n- `POST /me/username`  \n    Input: `username`  \n    Action: validate + update current authenticated user profile, return `200` or `409`.\n    \n\n\n---",
      "done_at": null,
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzglba54",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 2,
      "reopened_count": 0,
      "short_id": "STKS-24",
      "status": "backlog",
      "tags": [
        "documentation",
        "enhancement"
      ],
      "title": "Technical Spec for the Stacks Supabase integration",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:franrolotti",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "34",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgmKzbU",
        "github_url": "https://github.com/BreadchainCoop/app-stacks/issues/34"
      },
      "description": "GitHub Issue: [BreadchainCoop/app-stacks#34](https://github.com/BreadchainCoop/app-stacks/issues/34)\n\nWe need a user-facing funding flow that gets users closer to being deposit-ready for Stacks, where deposits require `BREAD` in the embedded wallet.\n\nPrivy is already integrated, and we are adding the embedded-wallet funding button using `useFundWallet` / `fundWallet`. This issue formalizes the product/engineering work to evolve that into a better `Get BREAD` flow.\n\n\n\n**Goal**\nImplement a `Get BREAD` flow that:\n- targets the Privy embedded wallet (not the external wallet)\n- supports email and external-wallet login paths\n- uses Privy funding as the primary onramp/transfer UX\n- provides sensible fallbacks when direct BREAD transfer funding is unavailable\n\n**Desired UX Paths**\n1. Embedded wallet already has BREAD\n- Show `Ready to deposit`\n- Avoid opening funding modal\n\n2. External connected wallet has BREAD, embedded wallet lacks BREAD\n- Prioritize transfer into embedded wallet using Privy funding flow\n- Prefer wallet transfer funding method\n- Explicitly target embedded wallet address\n\n3. No BREAD available\n- Fund embedded wallet with native token (xDAI on Gnosis) using Privy funding\n- Create a path to swap this xDAI for BREAD",
      "done_at": null,
      "evidence_ref_count": 0,
      "has_active_session": true,
      "id": "PVTI_lADOBejdOM4BEnYuzgmKzbU",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 1,
      "reopened_count": 0,
      "short_id": "STKS-34",
      "status": "in_progress",
      "tags": null,
      "title": "Implement funding flow for Privy embedded wallets",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:Copilot",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "37",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgfkV34",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/37"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#37](https://github.com/BreadchainCoop/saving-circles/issues/37)\n\n**Insight:**\n\nBased on user feedback from another solution, their saving circles flow was improved by making the initial circle creation and member adding process happen off-chain. Only after the group is created do they transition the process on-chain. This reduces complexity for new users.\n\n**Proposal for adaptation:**\n- Allow users to create a circle and add members off-chain, requiring only an email address initially.\n- After the group is formed, transition the circle and members to the on-chain environment.\n- Consider integrating a web3 wallet solution that allows account creation and onboarding with just an email address (e.g., social login), to further reduce onboarding friction.\n\n**Rationale:**\n- Simplifies onboarding and reduces initial complexity for users unfamiliar with web3.\n- Aligns with best practices from user feedback in similar projects.\n\n**Next steps:**\n- Discuss technical requirements and feasibility for off-chain group creation.\n- Research available web3 wallet providers for email/social login onboarding.\n- Plan user experience flow and migration from off-chain to on-chain.",
      "done_at": null,
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgfkV34",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 0,
      "reopened_count": 0,
      "short_id": "STKS-37",
      "status": "backlog",
      "tags": null,
      "title": "Adapt circle creation flow: start off-chain with email, then move on-chain",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": null,
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "39",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgfkV84",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/39"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#39](https://github.com/BreadchainCoop/saving-circles/issues/39)\n\n## Background\nBreadchainCoop's Saving Circles platform provides a collaborative mechanism for users to save together. Currently, deposits must be initiated manually, which can limit automation and scalability, especially when interacting with ERC20 tokens and allowance mechanisms.\n\n## Motivation\nTo streamline the deposit process and enable more flexible participation, introducing automated deposit functions leveraging ERC20 allowances would:\n- Enable programmatic deposits for users who have pre-approved the contract.\n- Reduce manual intervention and make the system more scalable for DeFi integrations and account abstraction flows.\n- Support batch operations for DAOs or automated agents to move funds for multiple accounts at once.\n\n## Problem Statement\n- There is currently no method to automatically trigger a deposit for a user into a saving circle based on their ERC20 allowance.\n- There is no view method to enumerate all accounts eligible for such automatic deposits.\n- There is no batch function for account-abstracted deposit flows to handle multiple addresses in one transaction.\n\n## Proposed Solution\n### 1. Automated Deposit Function\nImplement a function, e.g., `depositIfAllowed(address circle, address user)`, which:\n- Checks the user's ERC20 allowance for the saving circle contract.\n- If the allowance covers the deposit amount, transfers the required tokens and records the deposit.\n\n### 2. View Method for Eligible Addresses\nAdd a view function, e.g., `getEligibleAddressesForDeposit()`, which:\n- Iterates through all saving circles and participants.\n- Returns a list of addresses where the ERC20 allowance meets or exceeds the required deposit amount.\n\n### 3. Batch Deposit Function\nIntroduce a batch function, e.g., `batchDepositIfAllowed(address circle, address[] users)`, which:\n- Loops through the provided user addresses.\n- For each, performs the allowance check and deposit as above.\n\n## Example Code Snippet\n```solidity\n// Example for depositIfAllowed\nfunction depositIfAllowed(address circle, address user) external {\n    uint256 requiredAmount = getDepositAmount(circle, user);\n    IERC20 token = getCircleToken(circle);\n    uint256 allowance = token.allowance(user, address(this));\n    require(allowance >= requiredAmount, \"Insufficient allowance\");\n    token.transferFrom(user, address(this), requiredAmount);\n    _recordDeposit(circle, user, requiredAmount);\n}\n\n// Example for view method\nfunction getEligibleAddressesForDeposit() external view returns (address[] memory) {\n    // Iterate circles and users, check allowance\n}\n\n// Example for batch\nfunction batchDepositIfAllowed(address circle, address[] calldata users) external {\n    for(uint i=0; i<users.length; i++) {\n        // check allowance and deposit\n    }\n}\n```\n\n## Mermaid Sequence Diagram\n### Automated Deposit Flow\n```mermaid\nsequenceDiagram\n    participant User\n    participant Contract\n    participant ERC20\n    User --> Contract: Initiate depositIfAllowed(circle, user)\n    Contract --> ERC20: allowance(user, contract)\n    ERC20 --> Contract: returns allowance\n    Contract --> ERC20: transferFrom(user, contract, amount)\n    ERC20 --> Contract: tokens transferred\n    Contract --> Contract: record deposit\n```\n\n### Batch Deposit Flow\n```mermaid\nsequenceDiagram\n    participant Operator\n    participant Contract\n    participant ERC20\n    Operator --> Contract: batchDepositIfAllowed(circle, users[])\n    loop For each user\n        Contract --> ERC20: allowance(user, contract)\n        ERC20 --> Contract: returns allowance\n        Contract --> ERC20: transferFrom(user, contract, amount)\n        ERC20 --> Contract: tokens transferred\n        Contract --> Contract: record deposit\n    end\n```\n\n---\n**This feature would enable greater automation and scalability for Saving Circles users and integrators.**",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgfkV84",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 2,
      "reopened_count": 0,
      "short_id": "STKS-39",
      "status": "done",
      "tags": [
        "enhancement"
      ],
      "title": "Automated ERC20 Allowance-Based Deposits and Batch Account Abstraction",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": null,
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "48",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgfkWdM",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/pull/48"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#48](https://github.com/BreadchainCoop/saving-circles/pull/48)\n\n## Summary\n- Added complete technical specification for the Saving Circles frontend application\n- Designed as a pure static frontend with no backend or database dependencies\n- Covers all smart contract functionality with detailed user flows and sequence diagrams\n\n## Key Features\n- **Pure Static Architecture**: No backend, no database (including IndexedDB)\n- **Direct Contract Integration**: Uses all available view methods (getCircle, getMemberCircles, etc.)\n- **Comprehensive User Flows**: 8 detailed workflows covering all functionality\n- **Sequence Diagrams**: Visual representation of every user interaction\n- **Deployment Ready**: Configuration for IPFS, GitHub Pages, and CDN hosting\n- **No Persistence**: Session-only caching, truly stateless between visits\n\n## Test Plan\n- [ ] Review specification for completeness\n- [ ] Verify all contract functions are covered\n- [ ] Confirm static architecture constraints are maintained\n- [ ] Check sequence diagrams accurately represent flows\n- [ ] Validate technical stack recommendations\n\n## Related Issues\n- Addresses Issue #4 (Frontend Compatibility)\n- Supports Issue #37 (future off-chain/on-chain hybrid)\n- Compatible with Issue #39 (future automated deposits)\n\n\ud83e\udd16 Generated with [Claude Code](https://claude.ai/code)\n\n---\n- To see the specific tasks where the Asana app for GitHub is being used, see below:\n  - https://app.asana.com/0/0/1211594503026674\n  - https://app.asana.com/0/0/1211594503026684\n  - https://app.asana.com/0/0/1211594503026685",
      "done_at": null,
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgfkWdM",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 2,
      "reopened_count": 0,
      "short_id": "STKS-48",
      "status": "backlog",
      "tags": null,
      "title": "Add comprehensive static frontend specification",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": null,
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "49",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgfkV2Q",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/49"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#49](https://github.com/BreadchainCoop/saving-circles/issues/49)\n\n### Description\nWe need to update the entire project to reflect the new name stacks instead of saving-circles. This includes updating all references across code, tests, and documentation.\n\n### Tasks\n- [ ] Update all contract names from `SavingCircles` to `Stacks`\n- [ ] Update any variables, functions, or class names referencing the old name\n- [ ] Update test files and references\n- [ ] Update README and documentation to use the new name\n- [ ] Update any CI configs, scripts, or configs with the old name\n- [ ] Rename any files or directories if necessary\n- [ ] Verify build and tests pass after changes\n\n### Acceptance Criteria\n\n- [ ] No remaining references to \"saving-circles\" in the project\n- [ ] All tests pass successfully\n- [ ] Documentation and comments are consistent with the new project name",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgfkV2Q",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 1,
      "reopened_count": 0,
      "short_id": "STKS-49",
      "status": "done",
      "tags": [
        "enhancement"
      ],
      "title": "Rebrand project from \"saving-circles\" to \"stacks\"",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": null,
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "50",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgfkV1U",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/50"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#50](https://github.com/BreadchainCoop/saving-circles/issues/50)\n\n### Description\nThe initial implementation introduced automated deposit functions using ERC20 allowances (`depositIfAllowed`, `getEligibleAddressesForDeposit`, `batchDepositIfAllowed`). However, full account abstraction (AA) support was not included. This follow-up ticket aims to integrate AA flows so deposits can be initiated by smart contract wallets or other AA-enabled mechanisms without requiring manual user calls.\n\n### Motivation\n- Enable deposits to be triggered through account abstraction flows (e.g., ERC-4337 or custom AA frameworks).\n- Support gasless or sponsored transactions for deposits when AA is used.\n- Allow batch deposits to work seamlessly with AA-enabled accounts.\n\n### Requirements\n- [ ] Support deposits triggered by smart contract wallets and AA entry points.\n- [ ] Ensure allowance checks and `transferFrom` calls work for AA-enabled accounts.\n- [ ] Update `depositIfAllowed` and `batchDepositIfAllowed` to be compatible with AA flows.\n- [ ] Add tests for account abstraction scenarios (e.g., ERC-4337 bundler simulation).\n- [ ] Ensure backward compatibility for EOAs.\n\n### Acceptance Criteria\n- Users with AA-enabled accounts can deposit using `depositIfAllowed` without additional manual steps.\n- Batch deposits support both EOAs and AA accounts.\n- Full test coverage for AA deposit flows, including gasless or sponsored transaction scenarios.\n\n### Out of Scope\n- UI/Frontend changes (will be handled separately).\n- Non-ERC20 tokens or custom token logic.",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgfkV1U",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 1,
      "reopened_count": 0,
      "short_id": "STKS-50",
      "status": "done",
      "tags": [
        "enhancement"
      ],
      "title": "Add Account Abstraction Support for Automated Deposits",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:franrolotti",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "51",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzggDq2c",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/51"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#51](https://github.com/BreadchainCoop/saving-circles/issues/51)",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzggDq2c",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 0,
      "reopened_count": 0,
      "short_id": "STKS-51",
      "status": "done",
      "tags": [
        "enhancement"
      ],
      "title": "Invite function integration from Safety Net",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": null,
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "53",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzggaaSU",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/53"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#53](https://github.com/BreadchainCoop/saving-circles/issues/53)\n\nEvaluate whether circle members should be able to join dynamically or must be fixed at creation. Define the joining and membership rules before and after `circleStart`, and how these affect deposits, goals, and decommission timing.\n\n* Params: `depositAmount`, `token`, `depositInterval`, `circleStart`, `maxDeposits`.\n* Goal = `maxDeposits * depositAmount` * `memberCount`.\n* Circle duration = `maxDeposits * depositInterval` after `circleStart`.\n* Clarify when parameters and membership become immutable.\n\nAssess membership onboarding with **invite-link\u2013based joining** before the circle start.",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzggaaSU",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 0,
      "reopened_count": 0,
      "short_id": "STKS-53",
      "status": "done",
      "tags": null,
      "title": "Assess possibility of dynamic membership and joining mechanism",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:franrolotti",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "54",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzggaaRY",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/54"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#54](https://github.com/BreadchainCoop/saving-circles/issues/54)\n\nEvaluate removing `maxDeposits` and deriving the number of rounds from `members.length` to guarantee one withdrawal per member.",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzggaaRY",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 1,
      "reopened_count": 0,
      "short_id": "STKS-54",
      "status": "done",
      "tags": null,
      "title": "Assess whether to deprecate `maxDeposits` in favor of `members.length`",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:franrolotti",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "55",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzggaaQM",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/55"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#55](https://github.com/BreadchainCoop/saving-circles/issues/55)\n\nIdentify and fix the flaw where `withdrawFor` is restricted to circle members, preventing permissionless execution. Update logic so anyone can trigger `withdrawFor` when the circle is eligible for payout, ensuring funds still go only to the correct recipient.",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzggaaQM",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 0,
      "reopened_count": 0,
      "short_id": "STKS-55",
      "status": "done",
      "tags": null,
      "title": "Design flaw in withdrawal function for non-circle members (`withdrawFor` should be permissionless)",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": null,
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "59",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzghHsV8",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/59"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#59](https://github.com/BreadchainCoop/saving-circles/issues/59)\n\n- Invites are generated for each invited member\n- The creator needs to start the circle once it reaches a desired amount of members",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzghHsV8",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 0,
      "reopened_count": 0,
      "short_id": "STKS-59",
      "status": "done",
      "tags": null,
      "title": "The Creator of the Stack needs to \"Start\" the circle",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:brendaasfjnso",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "60",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzghHso0",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/60"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#60](https://github.com/BreadchainCoop/saving-circles/issues/60)",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzghHso0",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 1,
      "reopened_count": 0,
      "short_id": "STKS-60",
      "status": "done",
      "tags": null,
      "title": "Create a decision tree diagram for Start the circle/stack",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:brendaasfjnso",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "61",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzghHv3o",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/61"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#61](https://github.com/BreadchainCoop/saving-circles/issues/61)\n\n- Create the general decisions for the V1",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzghHv3o",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 0,
      "reopened_count": 0,
      "short_id": "STKS-61",
      "status": "done",
      "tags": null,
      "title": "Define the scope for the project",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:brendaasfjnso",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "63",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzghWBGk",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/63"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#63](https://github.com/BreadchainCoop/saving-circles/issues/63)\n\nHello! I was working on the user flow when Creating and Starting a Stack (based on the call we had last week), let me know if this is clear enough or if there's something missing that I forgot to add! @RonTuretzky @exo404 @franrolotti @diterra-code \n\n![Image](https://github.com/user-attachments/assets/fa47b41a-fbad-4d2f-92ea-bc792ee82b0e)",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzghWBGk",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 2,
      "reopened_count": 0,
      "short_id": "STKS-63",
      "status": "done",
      "tags": [
        "help-wanted"
      ],
      "title": "\"Creating and starting a Stack\" User Flow",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:franrolotti",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "64",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgiAURw",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/64"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#64](https://github.com/BreadchainCoop/saving-circles/issues/64)\n\n## Summary\nThe current `create()` function requires passing a full `members[]` array.  \nIn V1, circles should support invite-based onboarding, where membership is finalized only when invitees redeem before `start()`.\n\n## Problem\n- `members[]` must be passed at creation time.\n- Invite flow conflicts with this requirement.",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgiAURw",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 1,
      "reopened_count": 0,
      "short_id": "STKS-64",
      "status": "done",
      "tags": null,
      "title": "`create()` Must Allow Zero Members (Invite-Based Flow)",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:diterra-code",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "65",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgiAUSw",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/65"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#65](https://github.com/BreadchainCoop/saving-circles/issues/65)\n\n## Summary\nIf any member fails to fully deposit during a round, the circle becomes blocked and can only be decommissioned. We must define whether this behavior is acceptable for V2.\n\n## Problem\n- 1 member missing \u2192 no one can withdraw.\n- Circle becomes stuck until decommission.\n- Decommission penalizes members who have not yet received the pool.",
      "done_at": null,
      "evidence_ref_count": 0,
      "has_active_session": true,
      "id": "PVTI_lADOBejdOM4BEnYuzgiAUSw",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 1,
      "reopened_count": 0,
      "short_id": "STKS-65",
      "status": "in_progress",
      "tags": [
        "question"
      ],
      "title": "Define policy when a member stops depositing mid-circle [v2 scope]",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:exo404",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "66",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgiAUQs",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/66"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#66](https://github.com/BreadchainCoop/saving-circles/issues/66)\n\n## Summary\nWhen `circleEnd` is reached and all rounds are done, the circle is still marked as `isActive == true`. This creates inconsistent state for frontends.\n\n## Problem\n- UI has to infer completion from timestamps.\n- `isActive` remains `true` even if circle can never be used again.\n\n## Expected Behavior\n- A circle should be clearly marked \"completed\".\n- `isActive` should reflect actual usability.",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgiAUQs",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 0,
      "reopened_count": 0,
      "short_id": "STKS-66",
      "status": "done",
      "tags": null,
      "title": "Add explicit \u201cCompleted\u201d state or deactivate when finished",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:exo404",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "68",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgiAUMA",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/68"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#68](https://github.com/BreadchainCoop/saving-circles/issues/68)\n\n## Summary\nThe conditions for decommissioning a circle are subtle and time-dependent. UI lacks a simple boolean to check if decommission is allowed.\n\n## Problem\n- Decommission logic requires multiple timestamp checks.\n\n## Expected Behavior\nViewer should expose a simple helper.",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgiAUMA",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 1,
      "reopened_count": 0,
      "short_id": "STKS-68",
      "status": "done",
      "tags": null,
      "title": "Add Viewer Helper: `canDecommission(id)`",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:franrolotti",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "69",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgiAULA",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/69"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#69](https://github.com/BreadchainCoop/saving-circles/issues/69)\n\n## Summary\nFrontend has no easy way to compute how much each member still needs to deposit for the current round.\n\n## Problem\n- Partial-deposit rounds are not clear in UI.\n- Users cannot see how much they owe.",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgiAULA",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 1,
      "reopened_count": 0,
      "short_id": "STKS-69",
      "status": "done",
      "tags": null,
      "title": "Add Viewer Helper: Remaining deposit amount",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:franrolotti",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "71",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgiIf4Q",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/71"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#71](https://github.com/BreadchainCoop/saving-circles/issues/71)\n\nSet up automated CI, testnet deployment, and mainnet deployment for the SavingCircles contracts by reusing the `etherform` GitHub workflows.",
      "done_at": null,
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgiIf4Q",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 0,
      "reopened_count": 0,
      "short_id": "STKS-71",
      "status": "backlog",
      "tags": null,
      "title": "Integrate etherform CI/CD & deployment into SavingCircles",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:exo404",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "73",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgiafdw",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/73"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#73](https://github.com/BreadchainCoop/saving-circles/issues/73)\n\n**Problem**\nWe want users to be able to identify the Stacks they create and/or join, so far, the cookie storage solution can only be used in the browser that has been used to create or accept the invite, otherwise the Stack will have a generic name like ID123. We need it on-chain or off-chain in storage database.\n\n**PROS**\n- Naming helps give new users context and good for finding your stacks\n- The integration is just a string \n- \"UX issue is first adding names to groups any kind (chat, team, saving circle etc) are very important for identifying your group. If i am part of more than 1 saving circle and I can\u2019t simply differentiate it I would be co fused as a user\"\n\n**CONS**\n- Privacy can be an issue since some users might want their information to be kept that way (even tho it's on chain and everything is public)\n- \"Adding the name to the contract is definitely no big deal on Gnosis, but if we ever bring this to ethereum mainnet it will increase gas costs a bit. My hang up with the name on the contract is privacy. People might not realize they're publishing stuff to a public blockchain and you can't erase anything\"\n\n**V1 solution:**\n- We go with storing the name in the browser cookies \n\n**V2 proposals:**\n- We can use Supabase as a database option, it has a free plan and we can use it for different Bread Coop projects \n- We can also do research using IFPS as a storing option if we want to go more on the blockchain side",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgiafdw",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 0,
      "reopened_count": 0,
      "short_id": "STKS-73",
      "status": "done",
      "tags": [
        "enhancement"
      ],
      "title": "Apply the cookie storage solution for the naming of Stacks",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:diterra-code",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "74",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgiixjo",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/74"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#74](https://github.com/BreadchainCoop/saving-circles/issues/74)\n\nThe idea:\n\nHaving a soft launch / internal launch can help us tack internal issues before doing a public launch. In this launch we can do the testing ourselves, gather feedback and a get better product with scalable updates.\n\nTasks:\n\n- [ ] Lay out the plan of how the testing will go:\n- 1 month feedback: 3 to 4 rounds for this cycle\n- Each meeting we are testing different interactions and user cases: withdrawals, depositing, etc\n\n- [ ] Plan how these groups will go: \n- Assigning people groups\n- Test the app\n- Check availability after new year\n\n- [ ] Gather feedback: \n- After creating the groups, we can focus on gathering feedback as we test the different features and the nature of Stacks itself\n- This feedback will be gathered by Bren and Ruben\n- After doing the proper analysis we can discuss fixing bugs or implementing features if necessary",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgiixjo",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 0,
      "reopened_count": 0,
      "short_id": "STKS-74",
      "status": "done",
      "tags": [
        "nice-to-have"
      ],
      "title": "Internal feedback groups after V1 launch",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:diterra-code",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "75",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgiiyWs",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/75"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#75](https://github.com/BreadchainCoop/saving-circles/issues/75)\n\n- [ ] Conduct research for the next wallet connection integration (if it's changing)\n- Pros and cons of each technology\n- How they align with the necessities of the project \n- Technical and financial implications of each integration\n\nProposed integrations:\n- Privy https://www.privy.io/\n- Waaap https://human.tech/blog/unveiling-wallet-as-a-protocol\n- Rainbow kit https://rainbowkit.com/es-419",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgiiyWs",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 1,
      "reopened_count": 0,
      "short_id": "STKS-75",
      "status": "done",
      "tags": [
        "enhancement"
      ],
      "title": "Wallet connection integration (v2 scope)",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:Olaleye-Blessing",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "76",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgijFpM",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/76"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#76](https://github.com/BreadchainCoop/saving-circles/issues/76)",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgijFpM",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 0,
      "reopened_count": 0,
      "short_id": "STKS-76",
      "status": "done",
      "tags": null,
      "title": "Stack app front-end development",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:franrolotti",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "80",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgi9LTs",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/80"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#80](https://github.com/BreadchainCoop/saving-circles/issues/80)\n\n## Problem\nOur production deploy script only deploys the upgradeable SavingCircles proxy. For a usable deployment we also need the helper contracts deployed:\n- DelegatedSavingCircles\n- SavingCirclesViewer\n\nThese helpers are constructor-wired to the SavingCircles address via an immutable, so they should be deployed as normal contracts (no proxy).\n\n\n## Expected behavior \n\n- Deploy SavingCircles as implementation + ProxyAdmin + TransparentUpgradeableProxy (same as today).\n- Deploy DelegatedSavingCircles with constructor arg = SavingCircles proxy address.\n- Deploy SavingCirclesViewer with constructor arg = SavingCircles proxy address.",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgi9LTs",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 1,
      "reopened_count": 0,
      "short_id": "STKS-80",
      "status": "done",
      "tags": null,
      "title": "Deploy script should deploy all contracts",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:exo404",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "84",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgjdUHA",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/84"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#84](https://github.com/BreadchainCoop/saving-circles/issues/84)\n\nA string will be implemented with the creating of every Stack containing their name. The costs of implementing this off-chain is cheaper than being implemented on-chain and we can use a Supabase account for all Bread Coop projects.",
      "done_at": null,
      "evidence_ref_count": 0,
      "has_active_session": true,
      "id": "PVTI_lADOBejdOM4BEnYuzgjdUHA",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 2,
      "reopened_count": 0,
      "short_id": "STKS-84",
      "status": "in_progress",
      "tags": [
        "enhancement"
      ],
      "title": "Use Supabase as a storage solution for stacks naming (v2 scope)",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:Olaleye-Blessing",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "85",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgjdX7k",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/85"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#85](https://github.com/BreadchainCoop/saving-circles/issues/85)\n\nThere's an inconsistency the way it's being shown how many members have joined the Stack by invite and how many pending invites are there\n\n![Image](https://github.com/user-attachments/assets/c54ee580-ca71-4b73-a472-8cc1fbb61405)\n\nCan we confirm if we need to fix the code to be able to show that there shouldn't be pending invites once all users have joined?",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgjdX7k",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 0,
      "reopened_count": 0,
      "short_id": "STKS-85",
      "status": "done",
      "tags": [
        "bug"
      ],
      "title": "Fix inconsistency when showing the amount of members that have joined and accepted the invite",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:diterra-code",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "86",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgjdZJQ",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/86"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#86](https://github.com/BreadchainCoop/saving-circles/issues/86)\n\nRight now the cards aren't clear enough regarding how many deposits have been made by the user and by all the members, as well their current state regarding their contribution to the Stack.\n\nA re-design is needed to show this information in a clearer way.",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgjdZJQ",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 1,
      "reopened_count": 0,
      "short_id": "STKS-86",
      "status": "done",
      "tags": [
        "enhancement"
      ],
      "title": "Designing deposit and claim card states to show information in a clearer way",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:diterra-code",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "93",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgju1sM",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/93"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#93](https://github.com/BreadchainCoop/saving-circles/issues/93)\n\nCreate a spec for autodeposit functions and automations and relate it with the current Gelato automation issue scope.",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgju1sM",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 0,
      "reopened_count": 0,
      "short_id": "STKS-93",
      "status": "done",
      "tags": [
        "documentation"
      ],
      "title": "Create a spec for autodeposit functions and automations",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:diterra-code",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "94",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgju1s4",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/94"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#94](https://github.com/BreadchainCoop/saving-circles/issues/94)\n\n**Context**\n`invites.tsx` currently generates invite links by:\n\n* picking unused nonces (`usedNonces(circleId, nonce)` on-chain check), then\n* having the **circle owner sign** each invite via EIP-712 (`signTypedData`) in a loop, and\n* building a URL containing `{contract, circleId, nonce, signature}`.\n\nRedeeming is an **on-chain transaction**: `SavingCircles.redeemInvite(id, nonce, signature)`.\n\n\n## Problem\n\nGenerating multiple invite links can require the circle owner to approve many wallet signature prompts (1 per invite).\n\nWe need to decide:\n\n1. Do we keep \"sign N invites\" (many signature prompts), or\n2. Do we hide/batch the signing?",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgju1s4",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 1,
      "reopened_count": 0,
      "short_id": "STKS-94",
      "status": "done",
      "tags": null,
      "title": "Invite links: UX for \"many signatures\" vs hiding/batching, and who pays gas",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:franrolotti",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "95",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgju188",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/95"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#95](https://github.com/BreadchainCoop/saving-circles/issues/95)\n\n**Goal**\nAudit the time/period rules in the SavingCircles smart contracts: exactly **when members can deposit** and **when the current recipient can claim/withdraw**, across the full lifecycle of a circle.\n\n---\n\n## Context / Why\n\nWe\u2019ve had user confusion around \"when can I deposit?\" and \"when can I claim?\". \n\n\n## Scope\n\nReview contract functions that:\n\n* compute the current period/index\n* decide whether a **deposit is allowed now**\n* decide whether a **claim/withdraw is allowed now**\n* handle **start/end** timestamps and interval math\n  \n\n---\n\n## Questions to answer \n\n1. **Deposit window**\n\nFor a given circle, define precisely:\n\n* earliest moment a member can deposit\n* latest moment a deposit for a given period is accepted\n* whether deposits are allowed only for the \u201ccurrent period\u201d or also for past/future periods\n   \n\n\n2. **Claim/withdraw window**\n\nDefine precisely:\n\n* earliest moment claim is allowed in each period\n* latest moment claim is allowed\n\n3 **End-of-circle behavior**: final claim still allowed?",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgju188",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 0,
      "reopened_count": 0,
      "short_id": "STKS-95",
      "status": "done",
      "tags": null,
      "title": "Verify periods/time logic : when deposits and claims are allowed",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:franrolotti",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "96",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgju1ps",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/96"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#96](https://github.com/BreadchainCoop/saving-circles/issues/96)\n\n**Goal**\nValidate the contract rules around **decommissioning** and **missed deposits**, and decide if the current behavior matches the intended product UX.\n\n**Questions to answer**\n\n* What exactly makes a circle **\u201cdecommissioned\u201d** in the contract\n* What happens if a member **misses a deposit** for a period?\n\n  * Should they be allowed to deposit late? Should others continue?",
      "done_at": null,
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgju1ps",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 0,
      "reopened_count": 0,
      "short_id": "STKS-96",
      "status": "backlog",
      "tags": null,
      "title": "Clarify decommission + missed deposit behavior (is it ideal?)",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:Olaleye-Blessing",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "97",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgju1ok",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/97"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#97](https://github.com/BreadchainCoop/saving-circles/issues/97)\n\n**Context / Problem**\nToday, a user deposit often takes **two transactions**:\n\n1. ERC20 **approve** (\"set spending cap\")\n2. **deposit**\n\nThis is expected for ERC20 `transferFrom`, but users are sometimes seeing an approval prompt even on later deposits. The intended UX is:\n\n* **Approve once (per token + spender)**\n* Then **1 tx per deposit** (deposit only).\n\n\n**Proposed UX change**\nWhen the user first approves, default the allowance to a **sensible larger amount** so later deposits are one tx.",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgju1ok",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 0,
      "reopened_count": 0,
      "short_id": "STKS-97",
      "status": "done",
      "tags": null,
      "title": "Deposit UX: avoid repeated \"spending cap\" tx by setting a total default allowance",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:franrolotti",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "98",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgkRcSU",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/98"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#98](https://github.com/BreadchainCoop/saving-circles/issues/98)\n\n**Context**\nToday, users can claim/withdraw as soon as the round deposits have been made. We want to **delay claimability to the end of the round\u2019s time window** (the last day) so funds stay in the contract longer.\n\n**Goal**\nMake `claim/withdraw` only succeed **when the round\u2019s deposit window fully ends**, instead of being available immediately once deposits have been made.\n\n\n\n**Acceptance criteria**\n\n* \u2705 `claim()` reverts if called before the last day for that round.\n* \u2705 `claim()` succeeds on the last day of the round if all required deposits were made.\n* \u2705 Existing deposit window logic remains unchanged (no late deposits past cutoff).\n\n\n**Notes / risks to assess**\n\n* UX impact: recipients must wait longer even if all deposits arrive early.\n* What happens if they don't claim in that day? They should be able to claim later and delay the start of the next round. Claim for other member is a possibility that minimizes this risk.",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgkRcSU",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 2,
      "reopened_count": 0,
      "short_id": "STKS-98",
      "status": "done",
      "tags": [
        "bug"
      ],
      "title": "Move claim availability to the last day of deposit period (maximize token holding time)",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:Olaleye-Blessing",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "99",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgkB0ng",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/99"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#99](https://github.com/BreadchainCoop/saving-circles/issues/99)\n\n- Gather information about the bug (screenshoots, name of the wallet, when does it occurs?)\n- Check with the front-end",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgkB0ng",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 0,
      "reopened_count": 0,
      "short_id": "STKS-99",
      "status": "done",
      "tags": [
        "bug"
      ],
      "title": "Check issues regarding wallet connections on the app",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:brendaasfjnso",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "100",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgkB1Jo",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/100"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#100](https://github.com/BreadchainCoop/saving-circles/issues/100)\n\nData needed:\n- Stack name\n- Number of invitations and status",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgkB1Jo",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 0,
      "reopened_count": 0,
      "short_id": "STKS-100",
      "status": "done",
      "tags": [
        "enhancement",
        "nice-to-have"
      ],
      "title": "Gather the data needed to be storage on the Supabase",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:franrolotti",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "104",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgkZMAE",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/104"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#104](https://github.com/BreadchainCoop/saving-circles/issues/104)\n\n**Context / Problem**\nRight now we calculate time in two different ways:\n\n* **Round progression** is based on `currentIndex`, which only increments when a **withdrawal/claim** happens. This means claiming early advances the round even if we\u2019re still early in the time window.\n* **Deposit windows** are based on fixed timestamps derived from `effectiveCircleStartTime` and `depositInterval`. Time keeps running on schedule even if a withdrawal hasn\u2019t happened yet.\n\nBecause those two aren\u2019t aligned, we can end up in weird states:\n\n* **Claim early:** round index moves forward, but the next round\u2019s deposit window ends far in the future.\n* **Claim late:** round index is behind, but the next round\u2019s deposit window may have already started or even ended.\n\nWe agreed on **A) time-based rounds**: round index is derived from time only; claims do not advance the round (see https://github.com/BreadchainCoop/saving-circles/issues/95).\n\n**Additional context / implication (no-claims execution)**\n\n* **Current behavior:** round progression depends on withdrawals, so the circle **cannot fully execute without anyone claiming** (since `currentIndex` never advances).\n* **With time-based rounds:** the round index would advance with time even if nobody claims, so the circle **could \u201ccomplete\u201d in terms of schedule**.\n* **But we must verify:** whether anything else prevents **late claims**, and whether claims are allowed **after the full circle time has passed**.\n\n---\n\n## Goal\n\n1) Implement a time-based round model where the active round index is derived from time, keeping deposit windows and round progression aligned and predictable.\n2) Allow late claim any time and end the circle when every claim was made and the contract has no funds left.",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgkZMAE",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 0,
      "reopened_count": 0,
      "short_id": "STKS-104",
      "status": "done",
      "tags": null,
      "title": "Assess time based rounds: derive `currentIndex` from time; define behavior for unclaimed rounds",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:Olaleye-Blessing",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "105",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgkak4M",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/105"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#105](https://github.com/BreadchainCoop/saving-circles/issues/105)\n\nThe new states of the cards are ready to be applied on the front-end.",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgkak4M",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 1,
      "reopened_count": 0,
      "short_id": "STKS-105",
      "status": "done",
      "tags": [
        "enhancement"
      ],
      "title": "Apply UI changes to the front-end of the app",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:Olaleye-Blessing",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "106",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgkaoi8",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/106"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#106](https://github.com/BreadchainCoop/saving-circles/issues/106)\n\nUsers found difficult or impossible to connect with other wallets that weren't metamask during the internal testing. \n\n**Task:** \n- Do the general testing of some of the most common wallets such as: Rabby, Coinbase, etc.",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgkaoi8",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 1,
      "reopened_count": 0,
      "short_id": "STKS-106",
      "status": "done",
      "tags": [
        "bug"
      ],
      "title": "Testing wallet connection to the app with different wallets",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:franrolotti",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "108",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgkk-Y0",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/108"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#108](https://github.com/BreadchainCoop/saving-circles/issues/108)\n\nIn order to reduce the amount of clicks when creating invites for Stack members, we need to do the follow research:\n\n- If it's possible to do it right now with the current wallet connection integration (to put in consideration for the Alpha Launch testing, at the end of the month)\n- Coordinate with the WAAP team presenting them the technical needs for this feature (this will be integrated in the V2 version of the product).",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgkk-Y0",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 1,
      "reopened_count": 0,
      "short_id": "STKS-108",
      "status": "done",
      "tags": [
        "enhancement"
      ],
      "title": "Batch transaction when creating invite links",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:exo404",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "109",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgkk-lY",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/109"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#109](https://github.com/BreadchainCoop/saving-circles/issues/109)\n\nFrom the feedback we got from users: links were too long when shared to other users\n\n- Bagelface mentioned a solution to implement shorter links, contact directly with him to apply this for the Alpha launch testing.",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgkk-lY",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 0,
      "reopened_count": 0,
      "short_id": "STKS-109",
      "status": "done",
      "tags": [
        "enhancement"
      ],
      "title": "Implement a shorter link structure",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:diterra-code",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "110",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgkoGL8",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/110"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#110](https://github.com/BreadchainCoop/saving-circles/issues/110)\n\nGlossary can be found [here](https://docs.google.com/document/d/1ufLb71JQuLkKLj22dibjypwyJch8Wse36JEzgk7_2JY/edit?tab=t.p87dzjyp6rqw).\n\n- Agree on the final terms between products and apply the changes on the UI and copy\n- Communicate the changes to Blessings and Marv",
      "done_at": null,
      "evidence_ref_count": 0,
      "has_active_session": true,
      "id": "PVTI_lADOBejdOM4BEnYuzgkoGL8",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 1,
      "reopened_count": 0,
      "short_id": "STKS-110",
      "status": "in_progress",
      "tags": [
        "documentation"
      ],
      "title": "Work on the Stacks glossary in order to ensure consistency between products",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:diterra-code",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "111",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgkoGig",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/111"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#111](https://github.com/BreadchainCoop/saving-circles/issues/111)\n\nBased on the UI, gather the information needed to be stored in a database like stack name, user alias, number of users, etc).",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgkoGig",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 0,
      "reopened_count": 0,
      "short_id": "STKS-111",
      "status": "done",
      "tags": [
        "help-wanted"
      ],
      "title": "Communicate to the backend team what information we need to storage in the database",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:franrolotti",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "112",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgkvDj4",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/112"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#112](https://github.com/BreadchainCoop/saving-circles/issues/112)\n\n`SavingCircles.decommission` deletes `circles[_id]`, and `getCircle` is guarded by `onlyCommissioned`. This makes `SavingCirclesViewer.getUserCircleData` revert for decommissioned circles, so the frontend can\u2019t show historical circle details. \n\nFrontend should still fetch circle details after decommission.",
      "done_at": null,
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgkvDj4",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 1,
      "reopened_count": 0,
      "short_id": "STKS-112",
      "status": "backlog",
      "tags": [
        "bug"
      ],
      "title": "`decommission` deletes circle data, causing `getUserCircleData` to revert",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": null,
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "113",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgkxknw",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/113"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#113](https://github.com/BreadchainCoop/saving-circles/issues/113)\n\n_Originally posted by @RonTuretzky in https://github.com/BreadchainCoop/saving-circles/pull/107#discussion_r2742412415_\r\n            \r\n            \r\n           also here https://github.com/BreadchainCoop/saving-circles/pull/107#discussion_r2742399299",
      "done_at": null,
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgkxknw",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 0,
      "reopened_count": 0,
      "short_id": "STKS-113",
      "status": "backlog",
      "tags": null,
      "title": "Code duplication issues",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:Olaleye-Blessing",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "114",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgk21QU",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/114"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#114](https://github.com/BreadchainCoop/saving-circles/issues/114)\n\nWhile the backend team is working on adding the information necessary to show the personal Stacks people have joined, we need to hide the \"Your Stack\" section on the Dashboard while we do the testing for the alpha launch.\n\n<img width=\"529\" height=\"858\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/7a385829-141b-42bd-8de2-5386f5219754\" />",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgk21QU",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 1,
      "reopened_count": 0,
      "short_id": "STKS-114",
      "status": "done",
      "tags": [
        "help-wanted"
      ],
      "title": "Hide \"Your Stacks\" section for the alpha group testing",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:Olaleye-Blessing",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "115",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgk23o4",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/115"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#115](https://github.com/BreadchainCoop/saving-circles/issues/115)\n\nWe should consider that the number of members part of the Stack will always be:\n\n- The creator (1 member)\n- The rest of the members who will be invited (ex. 3 members)\n\nExample:\n\n<img width=\"911\" height=\"613\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/02c49066-052f-4356-b5a1-c486c06487fd\" />",
      "done_at": "",
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgk23o4",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 1,
      "reopened_count": 0,
      "short_id": "STKS-115",
      "status": "done",
      "tags": [
        "help-wanted"
      ],
      "title": "Be clear about the number of members that are part of the Stack",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:Olaleye-Blessing",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "116",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgk65x4",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/116"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#116](https://github.com/BreadchainCoop/saving-circles/issues/116)\n\nThere's a current issue in the contract code that doesn't allow @Olaleye-Blessing show the card details information for the cards the wallet has created or joined even tho a wallet is connected. \n\nCurrent state:\n\n<img width=\"1184\" height=\"854\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/ff7376a3-4769-4b9c-8f32-8a15038587f8\" />\n\nWe are only showing the \"No Stacks\", only when the user goes to an specific Stack they can realize they are part of it.\n\nThe desired state:\n\n<img width=\"717\" height=\"803\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/9108cde6-388f-49fb-8ea3-3399364e1d95\" />\n\nUser can do the following tasks from the dashboard: \n\n- Filter the Stacks by state\n- Claim their last deposit when a Stack has been retired/decommissed\n- Claim their round if it applies\n\nWe need the contract to be edited so this section can be shown by the general launch (by the middle of march). Let's consider this a high priority. RIght now Blessing is hiding this section but we can keep working on it backstage @exo404 \n\nHere's the[ prototype link](https://www.figma.com/design/CsleaPTgZVQXwkYnfUnUSE/Bread-Stacks?node-id=546-20611&t=HhPlVPhT0pDp1ZWy-1) if you need to check it out in detail.",
      "done_at": null,
      "evidence_ref_count": 0,
      "has_active_session": true,
      "id": "PVTI_lADOBejdOM4BEnYuzgk65x4",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 1,
      "reopened_count": 0,
      "short_id": "STKS-116",
      "status": "in_progress",
      "tags": [
        "bug"
      ],
      "title": "Show the card details information in the \"Your Stack\" section",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:exo404",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "118",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzglbas4",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/118"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#118](https://github.com/BreadchainCoop/saving-circles/issues/118)\n\n## 1. Background\n\n### Problem Statement  \nThe Stacks project requires periodic and/or conditional executions that could not depend on manual user actions (deposits/withdrawals after on-chain condition checks).  \n\nGelato provides purpose-built primitives for:\n\n- **Automate Tasks** (time-based and condition-based execution),\n- **Web3 Functions** (TypeScript off-chain logic executed by Gelato),\n\n---\n\n## 2. Goals\n- Introduce reliable automation for periodic and condition-based tasks.\n- Reduce manual operations and operational risk.\n- Maintain control over costs, permissions, and failure handling.\n\n---\n\n## 3. Scope and Approaches\n\n### 3.1 In-Scope\n\n- Gelato integration for:\n    - recurring tasks (time-based),\n    - condition-based tasks (resolver/checker),\n- Hardening target contracts for automation callers.\n\n### 3.2 Non-Goals\n\n- Replacing the full backend architecture.\n- Adopting every Gelato feature from day one unless product-required.\n\n### 3.3 Value Proposition\n\n- **Operational reliability:** tasks execute without manual intervention.\n- **Faster delivery:** less custom bot infrastructure to maintain.\n\n### 3.4 Alternative Approaches\n\n**Cron + self-hosted bots**\n    - Pros: full control.\n    - Cons: high maintenance, single points of failure, DevOps overhead.\n\n### 3.5 Relevant Metrics\n\n- Task success rate (% successful runs / total runs).\n- Revert rate per automated function.\n- Gas cost per successful execution.\n\n---\n\n## 4. Step-by-Step Flow\n\n### 4.1 Main (\u201cHappy\u201d) Path\n\n#### A) Time-Based Automation (recommended MVP)\n\n1. Deploy/verify target contract with `onlyAutomation` or equivalent ACL.\n2. Configure Gelato task with a time trigger.\n3. Fund task balance.\n4. Gelato executors periodically call target function.\n5. Optional on-chain event emitted + run status stored in Supabase (audit trail).\n\n#### B) Condition-Based Automation (resolver/checker)\n\n1. Deploy resolver/checker exposing execution condition.\n2. Configure task with dynamic inputs via resolver.\n3. Gelato evaluates condition off-chain; if `canExec=true`, submits transaction with generated payload.\n4. Contract executes and records outcome.\n\n### 4.2 Alternate / Error Paths\n\n- **Insufficient task funds** \u2192 task cannot execute until refilled.\n- **Contract revert** \u2192 failed run logged, optional retry/backoff policy applied.\n- **Incorrect resolver logic** \u2192 false positives/negatives.\n- **Gas spikes / chain congestion** \u2192 delay, retries, higher execution cost.\n- **Permission mismatch (`onlyOwner`/ACL issue)** \u2192 rejected transactions.\n\n---\n\n## 5. UML Diagrams (Mermaid)\n\n### 5.1 Sequence \u2014 Time-Based Task\n\n```mermaid\nsequenceDiagram\n    participant Dev as DevOps/Backend\n    participant Gelato as Gelato Automate\n    participant SC as Stacks Smart Contract\n\n    Dev->>Gelato: Create task (interval + target function)\n    Dev->>Gelato: Fund task balance\n    loop every interval\n      Gelato->>SC: execute upkeep()\n      SC-->>Gelato: success/revert\n    end\n```\n\n### 5.2 Sequence \u2014 Condition-Based Resolver\n\n```mermaid\nsequenceDiagram\n    participant Gelato as Gelato Executors\n    participant R as Resolver/Checker\n    participant SC as Target Contract\n\n    Gelato->>R: checker()\n    R-->>Gelato: canExec, execPayload\n    alt canExec = true\n      Gelato->>SC: execPayload tx\n      SC-->>Gelato: receipt\n    else canExec = false\n      Gelato-->>Gelato: skip this cycle\n    end\n```\n\n### 5.3 Activity \u2014 Failure Handling\n\n```mermaid\nflowchart TD\n    A[Task run starts] --> B{Preconditions ok?}\n    B -- No --> C[Mark failed: precondition]\n    B -- Yes --> D[Send tx]\n    D --> E{Tx success?}\n    E -- Yes --> Success\n    E -- No --> Revert\n```\n\n---\n\n## 6. Edge Cases and Concessions\n\n1. **Idempotency:** automated functions must tolerate duplicate calls.\n2. **Access control:** enforce dedicated role/allowlist for automation caller.\n3. **Gas griefing:** protect expensive functions with pre-checks and bounded loops.\n4. **Replay/logical duplication:** avoid duplicate side effects in the same job window.\n5. **Funding governance:** minimum balance thresholds + automated low-funds alerts.\n\n---\n\n## 7. Open Questions\n\n1. Which functions are in automation scope?\n2. Best trigger per use case: time-based, resolver, or Web3 Function?\n3. Monthly automation budget cap?\n\n---",
      "done_at": null,
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzglbas4",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 1,
      "reopened_count": 0,
      "short_id": "STKS-118",
      "status": "backlog",
      "tags": [
        "documentation",
        "enhancement"
      ],
      "title": "Technical Spec for Gelato Automation Integration for Stacks",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:franrolotti",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "120",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgmKt_M",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/120"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#120](https://github.com/BreadchainCoop/saving-circles/issues/120)\n\n**Problem**\n`decommission()` refunds via **rounds \u00d7 members** loops (`len \u00d7 len`), so it\u2019s O(n\u00b2) and can hit block gas limits for bigger circles.\n\n**New proposed fix**\nInstead of iterating `roundDeposits[round][member]`, compute refunds by **splitting all unclaimed funds equally** across members, **excluding the last round** (the only one where deposits may differ):\n\n* Define \u201cunclaimed funds\u201d = funds for rounds where `hasClaimed[_id][recipient] == false`\n* Exclude the **last round** from the equal-split pool\n* Refund **each member**: `pool / memberCount`.\n* Handle the **last round** separately (with the current per-member and per-round deposit tracking)\n\n**Acceptance criteria**\n\n* [ ] `decommission()` avoids `len \u00d7 len` scanning\n* [ ] Unclaimed non-last-round funds refunded **equally**\n* [ ] Last round refund logic is correct and documented\n* [ ] Tests: mixed claimed/unclaimed rounds, uneven last round deposits, remainder handling",
      "done_at": null,
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgmKt_M",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 2,
      "reopened_count": 0,
      "short_id": "STKS-120",
      "status": "backlog",
      "tags": null,
      "title": "Optimize `decommission()` refund logic to avoid gas blowups",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": null,
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "122",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgmKt_0",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/122"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#122](https://github.com/BreadchainCoop/saving-circles/issues/122)\n\n### Summary\n`SavingCircles` credits deposits using the requested `_value` instead of the amount of tokens actually received by the contract.\n\nIf an allowed token is fee-on-transfer (or otherwise transfers less than requested), internal accounting becomes under-collateralized. Later, withdrawals and decommission refunds are paid using the contract\u2019s aggregate ERC20 balance, which can cause one circle to consume funds deposited by another circle using the same token, or cause insolvency/reverts that lock funds.\n\n### Affected contracts / locations\n- `src/contracts/SavingCircles.sol:128` (`deposit`) and `src/contracts/SavingCircles.sol:134` (`depositFor`)\n  - Forward user-supplied `_value` into `_deposit()` with no normalization.\n- `src/contracts/SavingCircles.sol:348`\n  - `_deposit()` records `_value` in `roundDeposits` / `balances` before `safeTransferFrom`.\n- `src/contracts/SavingCircles.sol:325`\n  - `_withdraw()` pays fixed `depositAmount * members.length` from contract token balance, not per-circle escrowed balance.\n- `src/contracts/SavingCircles.sol:149`\n  - `decommission()` refunds based on recorded `roundDeposits`, which may exceed actual tokens received.\n- `src/contracts/DelegatedSavingCircles.sol:149`\n  - Delegated flow inherits the same accounting assumptions via `depositFor(...)` (though on some fee-on-transfer tokens it may revert earlier instead of silently underfunding).\n\n### Impact\n- Under-collateralized circles can be created when using fee-on-transfer tokens.\n- Withdrawals from an underfunded circle can be paid using deposits from other circles that use the same ERC20 token.\n- If aggregate contract balance is insufficient, withdrawals or decommission refunds can revert, potentially locking funds.\n\n### Why this happens\n`_deposit()` does:\n- validate `_value`\n- update `roundDeposits` and `balances` using `_value`\n- then call `safeTransferFrom(..., _value)`\n\nFor fee-on-transfer tokens, the contract may receive `< _value`, but accounting still records `_value`.\n\n### Proof of concept (conceptual)\n1. Owner allowlists a fee-on-transfer token `T`.\n2. Circle A (attacker-controlled member) and Circle B (honest users) both use token `T`.\n3. In Circle A, deposits are credited as full `depositAmount`, but due to transfer fee the contract receives less.\n4. Circle B deposits honestly, increasing the contract\u2019s total balance of `T`.\n5. When Circle A becomes withdrawable, payout uses the contract\u2019s aggregate `T` balance and can consume Circle B\u2019s funds to cover Circle A\u2019s deficit.\n\n### Severity / risk\nHigh, if fee-on-transfer or rebasing tokens can be allowlisted.\n\n### Suggested remediation\n- In `_deposit()`, account for actual tokens received:\n  - `received = balanceAfter - balanceBefore`\n  - credit accounting with `received`, not requested `_value`\n- Consider rejecting tokens that are fee-on-transfer / rebasing (policy + documentation + allowlist criteria)\n- Consider stronger per-circle token accounting / escrow isolation to avoid cross-circle balance contamination\n\n### Notes\n- Negative rebasing tokens can also break solvency assumptions over time even if deposit-time normalization is added.\n- Delegated deposits may revert earlier for some fee-on-transfer implementations, but the core issue remains in `SavingCircles`.",
      "done_at": null,
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgmKt_0",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 0,
      "reopened_count": 0,
      "short_id": "STKS-122",
      "status": "backlog",
      "tags": null,
      "title": "Fee-on-transfer / rebasing ERC20s break deposit accounting and can cause cross-circle fund loss / insolvency",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:exo404",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "123",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgmD8kQ",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/pull/123"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#123](https://github.com/BreadchainCoop/saving-circles/pull/123)\n\nTo solve the issue #114, I implemented 2 view functions\r\n\r\nFirst one is `circleState` that calculates the Circle state and returns:\r\n- 0 if NotStarted\r\n- 1 if Active\r\n- 2 if Active and deposits are in progress\r\n- 3 if Active and deposits are completed\r\n- 4 if the circle expired\r\n- 5 if Decommissioned\r\n- 6 if there is a missed deposit\r\n\r\nSecond one is `roundState`:\r\n- 0 if round not started\r\n- 1 if deposits are in progress\r\n- 2 if deposits are completed\r\n- 3 if deposits are claimed\r\n\r\nI'm also adding tests for this and a new struct with a new function in `SavingCircleViewer` contract to expose this data to the frontend.",
      "done_at": null,
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgmD8kQ",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 0,
      "reopened_count": 0,
      "short_id": "STKS-123",
      "status": "backlog",
      "tags": [
        "enhancement"
      ],
      "title": "Add Stacks Card details",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:franrolotti",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "124",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgmKuZA",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/124"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#124](https://github.com/BreadchainCoop/saving-circles/issues/124)",
      "done_at": null,
      "evidence_ref_count": 0,
      "has_active_session": false,
      "id": "PVTI_lADOBejdOM4BEnYuzgmKuZA",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 0,
      "reopened_count": 0,
      "short_id": "STKS-124",
      "status": "backlog",
      "tags": [
        "help-wanted"
      ],
      "title": "Create spec for the optimization for this issue",
      "type": "task",
      "updated_at": ""
    },
    {
      "assigned_to": "human:franrolotti",
      "branch_link_count": 0,
      "comment_count": 0,
      "created_at": "",
      "custom_fields": {
        "github_issue_number": "125",
        "github_project_item_id": "PVTI_lADOBejdOM4BEnYuzgmKzYo",
        "github_url": "https://github.com/BreadchainCoop/saving-circles/issues/125"
      },
      "description": "GitHub Issue: [BreadchainCoop/saving-circles#125](https://github.com/BreadchainCoop/saving-circles/issues/125)\n\n### Summary\n\nLate claims are valid at the contract level because `_claimable(id, member)` allows a member to claim **after their round has passed** (as long as their round was fully funded and they haven\u2019t claimed yet).\nHowever, the Viewer historically only exposed withdrawability for the **current round withdrawer**, so `viewer.canWithdraw` was **false** for members eligible to claim late from earlier rounds.\n\n### Problem\n\n`SavingCirclesViewer` computes `UserCircleData.canWithdraw` using \u201ccurrent withdrawer\u201d logic:\n\n* `isCurrentWithdrawer && isWithdrawable(id)`\n\nThis fails for late claims because:\n\n* A member can be claimable even when they are **not** the current withdrawer.\n\n#### Proposed fix\n\n* **Add** `isMemberWithdrawable(uint256 id, address member)` to `ISavingCircles` and `SavingCircles`\n* **Update** `SavingCirclesViewer`:\n\n  * `UserCircleData.canWithdraw = savingCircles.isMemberWithdrawable(circleId, user)`\n  * instead of `isCurrentWithdrawer && isWithdrawable(circleId)`\n\n### Expected Behavior After Fix\n\n* `viewer.canWithdraw` accurately reflects whether **this user** can claim/withdraw right now, including late claims.\n* `isWithdrawable(id)` remains useful as a **circle-level** status: \u201cat least one member can withdraw.\u201d\n* `isMemberWithdrawable(id, member)` is the correct **member-level** status used by the UI.",
      "done_at": null,
      "evidence_ref_count": 0,
      "has_active_session": true,
      "id": "PVTI_lADOBejdOM4BEnYuzgmKzYo",
      "last_status_changed_at": "",
      "priority": "medium",
      "relationships_out_count": 1,
      "reopened_count": 0,
      "short_id": "STKS-125",
      "status": "in_progress",
      "tags": null,
      "title": "Fix Viewer `canWithdraw` for late claims",
      "type": "task",
      "updated_at": ""
    }
  ],
  "ok": true
}
